<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>회원 가입</h2>
    <form action="12_연습문제5결과.html">
        <fieldset>
            <legend>필수 입력 사항</legend>
            <table>
                <tr>
                    <th>ID</th>
                    <form id="idCheck">
                        <td>
                            <input type="text" name="id" id="idInput" placeholder="아이디 10글자 이내">
                            <button type="button" onclick="checkId()">중복확인</button>
                        </td>
                    </form>
                </tr>
                <tr>
                    <th>비밀번호</th>
                    <td><input type="password" name="pw1" placeholder="영문, 숫자, 특수문자 포함 8자 이상" size="27"></td>
                </tr>
                <tr>
                    <th>비밀번호 확인</th>
                    <td><input type="password" name="pw2" size="27"></td>
                </tr>
                <tr>
                    <th>email</th>
                    <td>
                        <input type="text" name="email2" id="emailInput">
                        <select id="emailSelected" onchange="emailChanged()">
                            <option selected>직접 입력</option>
                            <option>@naver.com</option>
                            <option>@gamil.com</option>
                        </select>
                    </td>
                </tr>
            </table>
        </fieldset>

        <fieldset>
            <legend>추가 정보</legend>
            성별 : <input type="radio" value="남성" name="gender">남성 <input type="radio" name="gender" value="여성">여성
            <br><br>
            생년월일 : <input type="date" name="birthday">
            <br><br>
            취미
            <br>
            <input type="checkbox" name="hobby" value="야구"> 야구
            <input type="checkbox" name="hobby" value="농구"> 농구
            <input type="checkbox" name="hobby" value="축구"> 축구
            <br> 
            <input type="checkbox" name="hobby" value="공부"> 공부
            <input type="checkbox" name="hobby" value="음악감상"> 음악감상
            <br><br>
            자기소개<br>
            <textarea name="intro" id="" cols="80" rows="10"></textarea>
        </fieldset>
        <br>
        <button>회원가입</button> <button>다시 입력</button>
    </form>
    <script>
        function checkId(){
            var chId = document.getElementById("idInput").value;
            if(chId.trim() == ''){
                alert('아이디를 입력해주세요.');
            } else{
                alert('사용 가능한 아이디입니다.')
            }
        }

        function emailChanged(){
            var emailSelected = document.getElementById("emailSelected");
            var emailInput = document.getElementById("emailInput");

            if(emailSelected.value == '직접 입력'){
                emailInput.value = '';
            } else{
                const temp = emailInput.value.substr(0,emailInput.value.indexOf("@"));

                if(temp.length != 0 ){
                    emailInput.value = emailInput.value.substr(0,emailInput.value.indexOf("@")) 
                                        + emailSelected.value;
                }else{
                    emailInput.value += emailSelected.value;
                }

            }
        }
    </script>
</body>
</html>